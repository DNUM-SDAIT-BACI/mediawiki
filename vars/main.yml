---
# vars file for mediawiki
_mediawiki_requirements:
  default:
    - php-json
    - php-mbstring
    - php-xml
    - php-mysql
  Alpine:
    - php-json
    - php-mysqli
    - php-mbstring
    - php-xml
  Fedora:
    - php-json
    - php-mbstring
    - php-pdo_mysql
    - php-xml
  CentOS-7:
    - php-mbstring
    - php-mysql
    - php-xml
  CentOS:
    - php-mbstring
    - php-mysqlnd
    - php-xml
  Archlinux:
    - php

mediawiki_requirements: "{{ _mediawiki_requirements[ansible_distribution ~ '-' ~ ansible_distribution_major_version] | default (_mediawiki_requirements[ansible_distribution] | default(_mediawiki_requirements['default'])) }}"

mediawiki_source: "https://releases.wikimedia.org/mediawiki/{{ mediawiki_major}}.{{ mediawiki_minor }}/mediawiki-{{ mediawiki_version }}.tar.gz"

_mediawiki_destination:
  default: /var/www/html
  Alpine: /var/www/{{ httpd_servername | default(ansible_fqdn) }}
  Archlinux: /srv/http
  openSUSE Leap: /src/www/htdocs

mediawiki_destination: "{{ _mediawiki_destination[ansible_distribution] | default(_mediawiki_destination['default']) }}"
